{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImage(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '42982989-b171e2f7a41a03eb4f5866708';\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}?${params}`;\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","export function galleryTemplate(arr) {\n  return arr\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        ...info\n      }) => ` <div class=\"thumb\">\n      <li class=\"gallery-item\">\n        <div class=\"lightbox\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"\n          /></a>\n        </div>\n        <ul class=\"gallery-data-list\">\n          <li class=\"gallery-data-item\">\n            <h3>Likes</h3>\n            <p>${likes}</p>\n          </li>\n          <li class=\"gallery-data-item\">\n            <h3>Views</h3>\n            <p>${views}</p>\n          </li>\n          <li class=\"gallery-data-item\">\n            <h3>Comment</h3>\n            <p>${comments}</p>\n          </li>\n          <li class=\"gallery-data-item\">\n            <h3>Downloads</h3>\n            <p>${downloads}</p>\n          </li>\n        </ul>\n      </li>\n    </div>\n`\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getImage } from './js/pixabay-api';\nimport { galleryTemplate } from './js/render-functions';\n\nconst searchForm = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox = new SimpleLightbox('.lightbox a', { captionsData: 'alt' });\nlightbox.on('show.simplelightbox', function () {});\n\nshowLoader();\nsetTimeout(hideLoader, 100);\n\nsearchForm.addEventListener('submit', onSubmit);\n\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  const query = evt.target.elements.search.value.trim();\n\n  if (query !== '') {\n    // gallery.innerHTML = '';\n    showLoader();\n    getImage(query)\n      .then(data => {\n        const markup = galleryTemplate(data.hits);\n        gallery.innerHTML = markup;\n        lightbox.refresh();\n        if (data.hits.length === 0) {\n          iziToast.error({\n            maxWidth: '432px',\n            height: '48px',\n            color: 'red',\n            position: 'topRight',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        hideLoader();\n      });\n  }\n  evt.target.reset();\n}\n"],"names":["getImage","query","BASE_URL","API_KEY","params","url","res","galleryTemplate","arr","largeImageURL","webformatURL","tags","likes","views","comments","downloads","info","searchForm","gallery","loader","lightbox","SimpleLightbox","showLoader","hideLoader","onSubmit","evt","data","markup","iziToast","err"],"mappings":"6vBAAO,SAASA,EAASC,EAAO,CAC9B,MAAMC,EAAW,2BACXC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,IAAIE,CAAM,GACjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCjBO,SAASC,EAAgBC,EAAK,CACnC,OAAOA,EACJ,IACC,CAAC,CACC,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,GAAGC,CACX,IAAY;AAAA;AAAA;AAAA,0CAG8BP,CAAa;AAAA,8CACTC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAMvDC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,CAMrB,EACA,KAAK,EAAE,CACZ,CCjCA,MAAME,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,cAAe,CAAE,aAAc,KAAK,CAAE,EACxED,EAAS,GAAG,sBAAuB,UAAY,CAAA,CAAE,EAEjDE,IACA,WAAWC,EAAY,GAAG,EAE1BN,EAAW,iBAAiB,SAAUO,CAAQ,EAE9C,SAASF,GAAa,CACpBH,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEA,SAASI,GAAa,CACpBJ,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEA,SAASK,EAASC,EAAK,CACrBA,EAAI,eAAc,EAClB,MAAMxB,EAAQwB,EAAI,OAAO,SAAS,OAAO,MAAM,OAE3CxB,IAAU,KAEZqB,IACAtB,EAASC,CAAK,EACX,KAAKyB,GAAQ,CACZ,MAAMC,EAASpB,EAAgBmB,EAAK,IAAI,EACxCR,EAAQ,UAAYS,EACpBP,EAAS,QAAO,EACZM,EAAK,KAAK,SAAW,GACvBE,EAAS,MAAM,CACb,SAAU,QACV,OAAQ,OACR,MAAO,MACP,SAAU,WACV,QACE,0EACd,CAAW,CAEX,CAAO,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACvB,CAAO,EACA,QAAQ,IAAM,CACbN,GACR,CAAO,GAELE,EAAI,OAAO,OACb"}